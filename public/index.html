<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
		<link
			href="https://fonts.googleapis.com/icon?family=Material+Icons"
			rel="stylesheet"
		/>
		<!-- Compiled and minified CSS -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
		/>
		<link rel="stylesheet" href="./style.css" />
		<title>Login</title>
	</head>
	<body>
		<!-- Navbar -->
		<nav class="#ef6c00 orange darken-3" style="padding: 0px 10px">
			<div class="nav-wrapper">
				<a href="#" class="brand-logo center">Attendance</a>
				<ul class="left">
					<li>
						<a class="dropdown-trigger" data-target="mobile-nav"
							><i class="material-icons right">menu</i></a
						>
					</li>
				</ul>

				<!-- For Mobile Nav -->
				<ul class="dropdown-content" id="mobile-nav">
					<li id="login"><a class="modal-trigger" href="#modal1">Signup</a></li>
					<li id="signup"><a class="modal-trigger" href="#modal2">Login</a></li>
					<li id="logout"><a onclick="logout()">Logout</a></li>
				</ul>
			</div>
		</nav>

		<!-- Signup Modal -->
		<div id="modal1" class="modal">
			<div class="modal-content">
				<h4>Signup</h4>
				<form onsubmit="signup(event)">
					<input type="email" id="signupEmail" placeholder="email" />
					<input type="password" id="signupPassword" placeholder="password" />
					<button
						class="btn waves-effect #ef6c00 orange darken-3"
						type="submit"
					>
						Submit
					</button>
					<!-- <button
						class="btn waves-effect #1e88e5 blue darken-1"
						style="margin-top: 0.5rem"
						onclick="loginWithGoogle()"
						type="submit"
					>
						Login With Google
					</button> -->
				</form>
			</div>
		</div>

		<!-- Login Modal -->
		<div id="modal2" class="modal">
			<div class="modal-content">
				<h4>Login</h4>
				<form onsubmit="login(event)">
					<input type="email" id="loginEmail" placeholder="email" />
					<input type="password" id="loginPassword" placeholder="password" />
					<button
						class="btn waves-effect #ef6c00 orange darken-3"
						type="submit"
					>
						Submit
					</button>
					<!-- <button
						class="btn waves-effect #1e88e5 blue darken-1"
						style="margin-top: 0.5rem"
						onclick="loginWithGoogle()"
						type="submit"
					>
						Login With Google
					</button> -->
				</form>
			</div>
		</div>
		
		<!-- Edit Modal -->
		<div id="modal3" class="modal">
			<div class="modal-content">
				<h4>Edit Your Details</h4>
				<form id="editProfile" onsubmit="updateUserProfile(event)">
					<input type="text" name="name" placeholder="Name" />	
					<input type="number" name="phoneNumber" placeholder="Phone Number" />
					<input type="email" name="email" placeholder="Email" />
					<input type="text" name="attendance" placeholder="Persent/Absent"/>
					<!-- <input type="number" name="Wages" placeholder="Wages" /> -->
					<button
						class="btn waves-effect #ef6c00 orange darken-3"
						type="submit"
					>
						Submit
					</button>
				</form>
			</div>
		</div>

		<!-- Title Tab -->
		<h3 class="title center">Welcome To Attendance System </h3>
		<h5>
			<p class="msg center">Click on menu icon to login</p>
		</h5>


		<!-- Current User Table -->
		<div id="user" class="table-container">
				<table>
					<tr>
						<th scope="col">Name</th>
						<th scope="col">Phone</th>
						<th scope="col">Email</th>
						<th scope="col">Action</th>
					</tr>
					<tr class="userDetails" scope="row"></tr>
				</table>
		</div>

		<!-- All User Table -->
		<div id="allUser" style="display: none;" class="table-container center">
			<table id="Attendance-Table">
				<thead>
					<tr>
						<th scope="col">Name</th>
						<th scope="col">Phone</th>
						<th scope="col">Email</th>
						<th scope="col">Date</th>
						<th scope="col">Present/Absent</th>
						<th scope="col">Wages</th>
					</tr>
				</thead>
				<tbody id="userData">
				</tbody>
			</table>
			<button id="export" class="btn waves-effect" type="submit">Export To PDF</button>
		</div>
		
		


		<!-- Compiled and minified JavaScript -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
		<!-- Script to Start navbar -->
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				var elems = document.querySelectorAll(".modal");
				var instances = M.Modal.init(elems);
			});

			$(document).ready(function () {
				$(".dropdown-trigger").dropdown();
			});
		</script>

		<!-- PDF Export APT Scripts (START) -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.6/jspdf.plugin.autotable.min.js"></script>
		<!-- PDF Export APT Scripts (END) -->

		<!-- The Core Firebase JS SDK is always required and must be listed first -->
		<script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-firestore.js"></script>
		<script>
			// Your web app's Firebase configuration
			// For Firebase JS SDK v7.20.0 and later, measurementId is optional
			const firebaseConfig = {
				apiKey: "AIzaSyA_C-hp7DYgH3JjFIJidmyagVOPb2qSQYw",
				authDomain: "attendance-system-f54b9.firebaseapp.com",
				projectId: "attendance-system-f54b9",
				storageBucket: "attendance-system-f54b9.appspot.com",
				messagingSenderId: "619559811288",
				appId: "1:619559811288:web:e5430fee363ba59ef0ffad",
				measurementId: "G-B70M5Y8NLB",
			};

			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
		</script>
		
		<script src="./scripts/auth.js"></script>
		<script src="./scripts/firestore-dd.js"></script>
		<script src="./scripts/export.js"></script>
	</body>
</html>
